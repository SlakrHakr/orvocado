-# topic

.topic{:class => ('selected' if (topic.position_one.selected? || topic.position_two.selected?))}
  - classes = "#{('selected' if topic.position_one.selected?)} #{('deselected' if topic.position_two.selected?)}"
  - if user_signed_in?
    %a.topic-section.topic-side.topic-side-left{'data-topic-id' => topic.id, 'data-position-id' => topic.position_one.id, :class => classes}
      = topic.position_one.description
  - else
    %a.topic-section.topic-side.topic-side-left{href: new_user_session_path, :class => classes}
      = topic.position_one.description

  - classes = "#{('selected-left' if topic.position_one.selected?)} #{('selected-right' if topic.position_two.selected?)}"
  %a.topic-section.topic-description{href: topic_path(topic.id), :class => classes}
    = topic.description
    .topic-tags
      - topic.tags.each do |tag|
        .topic-tag= tag.name

  - classes = "#{('selected' if topic.position_two.selected?)} #{('deselected' if topic.position_one.selected?)}"
  - if user_signed_in?
    %a.topic-section.topic-side.topic-side-right{'data-topic-id' => topic.id, 'data-position-id' => topic.position_two.id, :class => classes}
      = topic.position_two.description
  - else
    %a.topic-section.topic-side.topic-side-right{href: new_user_session_path, :class => classes}
      = topic.position_two.description

  .clear
